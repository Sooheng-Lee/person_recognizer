# PRD (Product Requirements Document)
# USB 카메라 연결 프로그램

## 1. 개요

### 1.1 프로젝트 명
USB Camera Viewer - USB 연결 카메라/스마트폰 영상 출력 프로그램

### 1.2 목적
USB를 통해 연결된 스마트폰 또는 카메라의 영상을 컴퓨터 화면에 실시간으로 표시하는 데스크톱 애플리케이션 개발

### 1.3 배경
- 스마트폰을 웹캠으로 활용하고자 하는 수요 증가
- 외부 카메라 장치를 PC에서 쉽게 확인하고자 하는 니즈
- 화상 회의, 스트리밍, 영상 촬영 등 다양한 용도로 활용 가능

---

## 2. 목표 사용자

### 2.1 주요 타겟
- 웹캠이 없는 데스크톱 PC 사용자
- 스마트폰을 고화질 웹캠으로 활용하고자 하는 사용자
- 외부 카메라 장치를 PC에서 모니터링하고자 하는 사용자
- 영상 제작자 및 스트리머

### 2.2 사용 시나리오
1. 화상 회의 시 스마트폰을 웹캠으로 사용
2. 유튜브/트위치 스트리밍 시 스마트폰 카메라 활용
3. 외부 카메라 영상 실시간 모니터링
4. 영상 촬영 시 프리뷰 화면으로 활용

---

## 3. 기능 요구사항

### 3.1 핵심 기능 (MVP)

#### 3.1.1 USB 장치 감지
- USB 포트에 연결된 카메라/스마트폰 자동 감지
- 연결된 장치 목록 표시
- 장치 연결/해제 이벤트 실시간 감지

#### 3.1.2 영상 스트리밍
- 연결된 장치에서 실시간 영상 스트림 수신
- 화면에 영상 출력 (최소 30fps 지원)
- 다양한 해상도 지원 (480p, 720p, 1080p)

#### 3.1.3 기본 UI
- 장치 선택 드롭다운 메뉴
- 영상 표시 영역
- 시작/중지 버튼
- 전체 화면 모드

### 3.2 추가 기능 (Phase 2)

#### 3.2.1 영상 제어
- 밝기/대비/채도 조절
- 확대/축소 기능
- 영상 회전 (90°, 180°, 270°)
- 좌우 반전

#### 3.2.2 캡처 기능
- 스크린샷 저장 (PNG, JPG)
- 영상 녹화 (MP4)
- 저장 경로 설정

#### 3.2.3 가상 웹캠
- 가상 웹캠 드라이버 설치
- 다른 애플리케이션에서 가상 웹캠으로 인식 가능

### 3.3 고급 기능 (Phase 3)

#### 3.3.1 네트워크 연결
- Wi-Fi를 통한 무선 연결 지원
- IP 카메라 지원

#### 3.3.2 다중 카메라
- 여러 대의 카메라 동시 표시
- 화면 분할 레이아웃

---

## 4. 기술 요구사항

### 4.1 개발 환경
- **언어**: Python 3.10+
- **GUI 프레임워크**: PyQt5 또는 Tkinter
- **영상 처리**: OpenCV (cv2)
- **패키지 관리**: pip, requirements.txt

### 4.2 지원 프로토콜
- UVC (USB Video Class) - 표준 웹캠 프로토콜
- MTP (Media Transfer Protocol) - 스마트폰 연결
- ADB (Android Debug Bridge) - Android 장치 연결

### 4.3 지원 장치
- **Android 스마트폰**: USB 디버깅 활성화 필요
- **iPhone**: iOS 카메라 지원 (제한적)
- **웹캠**: UVC 호환 장치
- **DSLR/미러리스 카메라**: USB 연결 지원 모델

### 4.4 시스템 요구사항
- **OS**: Windows 10/11
- **RAM**: 최소 4GB
- **USB**: USB 2.0 이상
- **디스플레이**: 1280x720 이상

---

## 5. UI/UX 설계

### 5.1 메인 화면 구성
```
┌─────────────────────────────────────────────────────┐
│  USB Camera Viewer                          [_][□][X]│
├─────────────────────────────────────────────────────┤
│  장치: [Samsung Galaxy S23 ▼]  [▶ 시작] [⏹ 중지]    │
├─────────────────────────────────────────────────────┤
│                                                     │
│                                                     │
│                   영상 표시 영역                     │
│                   (16:9 비율)                       │
│                                                     │
│                                                     │
├─────────────────────────────────────────────────────┤
│  해상도: 1920x1080  |  FPS: 30  |  [📷][🎥][⚙]      │
└─────────────────────────────────────────────────────┘
```

### 5.2 UI 요소
- **장치 선택**: 드롭다운으로 연결된 장치 선택
- **제어 버튼**: 시작, 중지, 전체화면
- **상태 표시줄**: 현재 해상도, FPS, 연결 상태
- **기능 버튼**: 스크린샷, 녹화, 설정

---

## 6. 프로젝트 일정

### Phase 1: MVP 개발 (2주)
| 작업 | 예상 기간 |
|------|----------|
| 프로젝트 설정 및 환경 구성 | 1일 |
| USB 장치 감지 기능 | 2일 |
| 영상 스트리밍 기능 | 3일 |
| 기본 UI 개발 | 3일 |
| 테스트 및 버그 수정 | 3일 |

### Phase 2: 추가 기능 (2주)
| 작업 | 예상 기간 |
|------|----------|
| 영상 제어 기능 | 3일 |
| 캡처/녹화 기능 | 4일 |
| 가상 웹캠 기능 | 4일 |
| 테스트 및 안정화 | 3일 |

### Phase 3: 고급 기능 (2주)
| 작업 | 예상 기간 |
|------|----------|
| Wi-Fi 연결 지원 | 4일 |
| 다중 카메라 지원 | 4일 |
| 최종 테스트 및 배포 | 6일 |

---

## 7. 파일 구조

```
camera_test/
├── PRD.md                 # 제품 요구사항 문서
├── README.md              # 프로젝트 설명서
├── requirements.txt       # Python 의존성
├── main.py               # 애플리케이션 진입점
├── src/
│   ├── __init__.py
│   ├── camera/
│   │   ├── __init__.py
│   │   ├── detector.py    # 장치 감지 모듈
│   │   ├── streamer.py    # 영상 스트리밍 모듈
│   │   └── controller.py  # 카메라 제어 모듈
│   ├── ui/
│   │   ├── __init__.py
│   │   ├── main_window.py # 메인 윈도우
│   │   ├── video_widget.py# 영상 표시 위젯
│   │   └── controls.py    # 제어 UI 컴포넌트
│   └── utils/
│       ├── __init__.py
│       ├── config.py      # 설정 관리
│       └── logger.py      # 로깅 유틸리티
├── resources/
│   ├── icons/            # 아이콘 리소스
│   └── styles/           # 스타일 시트
└── tests/
    ├── __init__.py
    ├── test_camera.py
    └── test_ui.py
```

---

## 8. 위험 요소 및 대응 방안

### 8.1 기술적 위험
| 위험 | 가능성 | 영향도 | 대응 방안 |
|------|--------|--------|----------|
| Android 장치 호환성 문제 | 높음 | 중간 | ADB 연결 방식 대안 준비 |
| iOS 장치 지원 제한 | 높음 | 중간 | 별도 솔루션 또는 지원 제외 안내 |
| 고해상도 영상 지연 | 중간 | 높음 | 하드웨어 가속, 압축 알고리즘 적용 |
| 가상 웹캠 드라이버 충돌 | 중간 | 중간 | 기존 드라이버와 충돌 테스트 |

### 8.2 리소스 위험
| 위험 | 가능성 | 영향도 | 대응 방안 |
|------|--------|--------|----------|
| 개발 일정 지연 | 중간 | 높음 | MVP 범위 축소 대비 |
| 테스트 장비 부족 | 낮음 | 중간 | 다양한 장치 확보 또는 에뮬레이터 활용 |

---

## 9. 성공 지표 (KPI)

### 9.1 기술적 지표
- 영상 지연 시간: 100ms 이하
- 프레임 레이트: 최소 30fps 유지
- CPU 사용률: 30% 이하 (1080p 기준)
- 메모리 사용량: 500MB 이하

### 9.2 사용자 경험 지표
- 장치 연결부터 영상 출력까지 5초 이내
- 앱 시작 시간: 3초 이내
- 크래시 발생률: 1% 이하

---

## 10. 참고 자료

### 10.1 관련 기술 문서
- [OpenCV Python Documentation](https://docs.opencv.org/4.x/d6/d00/tutorial_py_root.html)
- [PyQt5 Documentation](https://www.riverbankcomputing.com/static/Docs/PyQt5/)
- [ADB Documentation](https://developer.android.com/studio/command-line/adb)
- [UVC Specification](https://www.usb.org/document-library/video-class-v15-document-set)

### 10.2 유사 프로젝트
- DroidCam
- iVCam
- Iriun Webcam
- OBS Virtual Camera

---

## 11. 승인

| 역할 | 이름 | 서명 | 날짜 |
|------|------|------|------|
| 프로젝트 오너 | | | |
| 기술 리드 | | | |
| QA 담당 | | | |

---

*문서 버전: 1.0*
*최종 수정일: 2026-01-16*
